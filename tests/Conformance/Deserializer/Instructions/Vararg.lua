-- file was auto-generated by `fiu-tests`
--!ctx Luau

local ok, compileResult = Luau.compile([[
-- tests: LOP_GETVARARGS, LOP_PREPVARARGS, LOP_CALL, LOP_RETURN

local function f(...)
	return {...}
end

local t = f(1, 2, 3)
assert(t[1] == 1 and t[2] == 2 and t[3] == 3, "Test 1 failed")

local function g(...)
	return ...
end

local a, b, c = g(1, 2, 3)
assert(a == 1 and b == 2 and c == 3, "Test 2 failed")

local function h(a, ...)
	return {
		a = a,
		...
	}
end

local t = h(1, 2, 3)
assert(t.a == 1 and t[1] == 2 and t[2] == 3, "Test 3 failed")

OK()
]], {
	optimizationLevel = 2,
	debugLevel = 2,
	coverageLevel = 0,
	vectorLib = nil,
	vectorCtor = nil,
	vectorType = nil
})

if not ok then
	error(`Failed to compile, error: {compileResult}`)
end

local encodedModule, constantList, stringList = [[
1; 4; 0 2 0 0 1 3 1 7 0 0 [] 1 [3,4,4,4,4,4,4,] {
	65 1 0 ? 0 ? ? ? ? ? ? ? ? ? ? ?; 53 2 0 0 0 0 ? ? ? ? ? ? ? ? ? 1; ~ 0; 63 2 0 ? 1 0 ? ? ? ? ? ? ? ? ? ?
	55 3 0 1 0 1 0 ? ? ? ? ? ? ? ? 1; ~ 1; 22 2 0 ? 0 2 ? ? ? ? ? ? ? ? ? ?
}
1 1 0 0 1 10 2 3 0 0 [] 1 [10,11,11,] {
	65 1 0 ? 0 ? ? ? ? ? ? ? ? ? ? ?; 63 2 0 ? 0 0 ? ? ? ? ? ? ? ? ? ?; 22 2 0 ? 0 0 ? ? ? ? ? ? ? ? ? ?
}
2 3 1 0 1 17 4 9 1 0 [] 1 [17,18,18,19,19,20,20,20,20,] {
	65 1 0 ? 1 ? ? ? ? ? ? ? ? ? ? ?; 53 2 0 0 1 1 ? ? ? ? ? ? ? ? ? 1; ~ 0; 16 3 1 0 0 1 128 ? ? 1 ? ? ? ? ? 1
	~ 0; 63 2 0 ? 2 0 ? ? ? ? ? ? ? ? ? ?; 55 3 0 1 1 2 0 ? ? ? ? ? ? ? ? 1; ~ 1
	22 2 0 ? 1 2 ? ? ? ? ? ? ? ? ? ?
}
3 11 0 0 1 1 ? 78 14 3 [1,2,3,] 1 [1,3,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,17,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,27,27,27,28,] {
	65 1 0 ? 0 ? ? ? ? ? ? ? ? ? ? ?; 64 4 3 ? 0 ? ? 0 ? 1 ? ? ? ? ? ?; 6 2 0 ? 1 0 ? ? ? ? ? ? ? ? ? ?; 4 4 0 ? 2 ? ? 1 ? ? ? ? ? ? ? ?
	4 4 0 ? 3 ? ? 2 ? ? ? ? ? ? ? ?; 4 4 0 ? 4 ? ? 3 ? ? ? ? ? ? ? ?; 21 3 0 ? 1 4 2 ? ? ? ? ? ? ? ? ?; 3 3 0 ? 3 0 0 ? ? ? ? ? ? ? ? ?
	17 3 0 ? 4 1 0 ? ? ? ? ? ? ? ? ?; 79 4 6 2147483649 4 ? ? 10 ? 2 ? ? ? 1 ? 1; ~ 2147483649; 3 3 0 ? 3 0 0 ? ? ? ? ? ? ? ? ?
	17 3 0 ? 4 1 1 ? ? ? ? ? ? ? ? ?; 79 4 6 2147483650 4 ? ? 6 ? 3 ? ? ? 1 ? 1; ~ 2147483650; 17 3 0 ? 4 1 2 ? ? ? ? ? ? ? ? ?
	79 4 6 3 4 ? ? 2 ? 4 ? ? ? 0 ? 1; ~ 3; 3 3 0 ? 3 0 1 ? ? ? ? ? ? ? ? ?; 3 3 0 ? 3 1 0 ? ? ? ? ? ? ? ? ?
	75 3 1 4 1 3 4 ? ? 5 ? ? ? ? ? 1; ~ 4; 5 4 3 ? 4 ? ? 4 ? 5 ? ? ? ? ? ?; 12 4 4 1078984704 2 ? ? 6 ? ? 6 ? ? ? 1 1
	~ 1078984704; 21 3 0 ? 2 3 1 ? ? ? ? ? ? ? ? ?; 64 4 3 ? 2 ? ? 7 ? 2 ? ? ? ? ? ?; 6 2 0 ? 3 2 ? ? ? ? ? ? ? ? ? ?
	4 4 0 ? 4 ? ? 1 ? ? ? ? ? ? ? ?; 4 4 0 ? 5 ? ? 2 ? ? ? ? ? ? ? ?; 4 4 0 ? 6 ? ? 3 ? ? ? ? ? ? ? ?; 21 3 0 ? 3 4 4 ? ? ? ? ? ? ? ? ?
	3 3 0 ? 7 0 0 ? ? ? ? ? ? ? ? ?; 79 4 6 2147483649 3 ? ? 8 ? 2 ? ? ? 1 ? 1; ~ 2147483649; 3 3 0 ? 7 0 0 ? ? ? ? ? ? ? ? ?
	79 4 6 2147483650 4 ? ? 5 ? 3 ? ? ? 1 ? 1; ~ 2147483650; 79 4 6 3 5 ? ? 2 ? 4 ? ? ? 0 ? 1; ~ 3
	3 3 0 ? 7 0 1 ? ? ? ? ? ? ? ? ?; 3 3 0 ? 7 1 0 ? ? ? ? ? ? ? ? ?; 75 3 1 8 1 7 4 ? ? 9 ? ? ? ? ? 1; ~ 8
	5 4 3 ? 8 ? ? 8 ? 9 ? ? ? ? ? ?; 12 4 4 1078984704 6 ? ? 6 ? ? 6 ? ? ? 1 1; ~ 1078984704; 21 3 0 ? 6 3 1 ? ? ? ? ? ? ? ? ?
	64 4 3 ? 6 ? ? 9 ? 3 ? ? ? ? ? ?; 6 2 0 ? 7 6 ? ? ? ? ? ? ? ? ? ?; 4 4 0 ? 8 ? ? 1 ? ? ? ? ? ? ? ?; 4 4 0 ? 9 ? ? 2 ? ? ? ? ? ? ? ?
	4 4 0 ? 10 ? ? 3 ? ? ? ? ? ? ? ?; 21 3 0 ? 7 4 2 ? ? ? ? ? ? ? ? ?; 3 3 0 ? 9 0 0 ? ? ? ? ? ? ? ? ?; 15 3 1 10 10 7 128 ? ? 11 ? ? ? ? ? 1
	~ 10; 79 4 6 2147483649 10 ? ? 10 ? 2 ? ? ? 1 ? 1; ~ 2147483649; 3 3 0 ? 9 0 0 ? ? ? ? ? ? ? ? ?
	17 3 0 ? 10 7 0 ? ? ? ? ? ? ? ? ?; 79 4 6 2147483650 10 ? ? 6 ? 3 ? ? ? 1 ? 1; ~ 2147483650; 17 3 0 ? 10 7 1 ? ? ? ? ? ? ? ? ?
	79 4 6 3 10 ? ? 2 ? 4 ? ? ? 0 ? 1; ~ 3; 3 3 0 ? 9 0 1 ? ? ? ? ? ? ? ? ?; 3 3 0 ? 9 1 0 ? ? ? ? ? ? ? ? ?
	75 3 1 11 1 9 4 ? ? 12 ? ? ? ? ? 1; ~ 11; 5 4 3 ? 10 ? ? 11 ? 12 ? ? ? ? ? ?; 12 4 4 1078984704 8 ? ? 6 ? ? 6 ? ? ? 1 1
	~ 1078984704; 21 3 0 ? 8 3 1 ? ? ? ? ? ? ? ? ?; 12 4 4 1086324736 8 ? ? 13 ? ? 13 ? ? ? 1 1; ~ 1086324736
	21 3 0 ? 8 1 1 ? ? ? ? ? ? ? ? ?; 22 2 0 ? 0 1 ? ? ? ? ? ? ? ? ? ?
}]], {
	{ },{ },{ "3",},{ 0,1,2,3,"5","6",1078984704,1,"7",2,"3","8","9",1086324736,},
}, {
	"\102","\103","\97","\104","\84\101\115\116\32\49\32\102\97\105\108\101\100","\97\115\115\101\114\116","\84\101\115\116\32\50\32\102\97\105\108\101\100",
	"\84\101\115\116\32\51\32\102\97\105\108\101\100","\79\75","\116","\98","\99",
}

assert(MATCH(
	Fiu.luau_deserialize(compileResult),
	FiuUtils.decodeModule(encodedModule, constantList, stringList)
))

OK()
